<!DOCTYPE html>
<!-- To change this license header, choose License Headers in Project Properties. To change this template file, choose Tools | Templates and open the template in the editor. -->
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>VDG</title>
        <link rel="icon" href="images/logo.png" type="image/png">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <!--Navbar-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
              <a class="navbar-brand" href="index.html">VDG</a>
              <a class="depart">DÉPART : 10 NOV 2024 <strong style="color: red;"> / </strong> J - 147</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link" href="Skippers.html">Skippers</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="Bateaux.html">Bateaux</a>
                  </li>
                  
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Editions
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#editions" onclick="loadClassement('2020-2021')">2020-2021</a></li>
                      <li><a class="dropdown-item" href="#editions" onclick="loadClassement('2016-2017')">2016-2017</a></li>
                      <li><hr class="dropdown-divider"></li>
                      <li><a class="dropdown-item" href="#editions">Toutes les éditions</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link disabled" aria-disabled="true">v1.0</a>
                  </li>
                </ul>
                
                <form class="d-flex" role="search">
                  <input class="form-control me-2" type="search" placeholder="Rechercher" aria-label="Search">
                  <button class="btn btn-outline-secondary" type="submit">Rechercher</button>
                </form>
              </div>
            </div>
        </nav>

        <!--Carousel-->
        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
          <ol class="carousel-indicators">
            <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"></li>
            <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"></li>
            <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="images/image1.png" class="d-block w-100" alt="Image 1">
            </div>
            <div class="carousel-item">
              <img src="images/image2.png" class="d-block w-100" alt="Image 2">
            </div>
            <div class="carousel-item">
              <img src="images/image3.png" class="d-block w-100" alt="Image 3">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </a>
        </div>

        <!--En tete-->
        <header class="text-white text-center py-5">
          <div class="container">
            <img src="images/affiche1.png" alt="VDG" class="affiche1" style="max-width: 150px; background-color: aliceblue; border-radius: 10px;">
            <h1>C'EST QUOI LE VENDÉE GLOBE ?</h1>
            <p class="lead">Le Vendée Globe est un tour du monde à la voile en solitaire, sans escale et sans assistance, qui a lieu tous les quatre ans. Il se dispute sur des IMOCA, des monocoques de 18 mètres de long. Les skippers partent des Sables-d'Olonne en Vendée, parcourent environ 45 000 kilomètres autour du globe en contournant les trois caps mythiques (Bonne Espérance, Leeuwin et enfin le cap Horn) pour revenir aux Sables d’Olonne. La course a acquis une renommée internationale, attirant des skippers du monde entier.</p>
          </div>
        </header>

        <main class="container my-5">
          <h1 id="editions" class="lastresult">Dernier résultats</h1>
          <div class="row">
            <div class="col-12 col-md-8">
            <!-- Table -->
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Place</th>
                            <th>Skipper</th>
                            <th>Nationalité</th>
                            <th>Naissance</th>
                            <th>Nom Bateau</th>
                            <th>Architecte</th>
                            <th>Mise à l'eau</th>
                        </tr>
                    </thead>
                    <tbody id="classement-content">
                        <!-- Contenu dynamique sera chargé ici -->
                    </tbody>
                </table>
            </div>
              <div class="col-12 col-md-4">
                  <!--Carte-->
                  <div class="card">
                      <h5 class="card-header">Editions</h5>
                      <div class="card-body">
                        <button type="button" class="btn btn-outline-info mb-2" onclick="loadClassement('2020-2021')">2020-2021</button>
                        <button type="button" class="btn btn-outline-dark mb-2" onclick="loadClassement('2016-2017')">2016-2017</button>
                        <button type="button" class="btn btn-outline-danger mb-2" onclick="loadClassement('2012-2013')">2012-2013</button>
                        <button type="button" class="btn btn-outline-info mb-2" onclick="loadClassement('2008-2009')">2008-2009</button>
                        <button type="button" class="btn btn-outline-dark mb-2" onclick="loadClassement('2004-2005')">2004-2005</button>
                        <button type="button" class="btn btn-outline-danger mb-2" onclick="loadClassement('2000-2001')">2000-2001</button>
                        <button type="button" class="btn btn-outline-info mb-2" onclick="loadClassement('1996-1997')">1996-1997</button>
                        <button type="button" class="btn btn-outline-dark mb-2" onclick="loadClassement('1992-1993')">1992-1993</button>
                        <button type="button" class="btn btn-outline-danger mb-2" onclick="loadClassement('1989-1990')">1989-1990</button>
                      </div>
                  </div>
              </div>
          </div>
        </main>

        <footer class="bg-dark text-white text-center py-3">
          <p>&copy; 2024 Vendée Globe. GENAY Loïs.</p>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="anim.js"></script>
        
        <script>
    document.addEventListener("DOMContentLoaded", function() {
        loadClassement('2020-2021');
    });

    function loadClassement(edition) {
        fetch('/Sae23web/classements?edition=' + edition)
            .then(response => response.json())
            .then(data => {
                // Séparez les éléments avec place égale à 0 des autres
                const nonZeroPlaces = data.filter(classement => classement.place !== 0);
                const zeroPlaces = data.filter(classement => classement.place === 0);

                // Trier les éléments avec place différent de 0
                nonZeroPlaces.sort((a, b) => a.place - b.place);

                // Combinez les deux listes
                const sortedData = [...nonZeroPlaces, ...zeroPlaces];

                let classementContent = document.getElementById('classement-content');
                classementContent.innerHTML = '';
                sortedData.forEach(classement => {
                    let row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${classement.place}</td>
                        <td>${classement.prenom} ${classement.nom}</td>
                        <td>${classement.nationalite}</td>
                        <td>${new Date(classement.naissance * 1000).toLocaleDateString()}</td>
                        <td>${classement.nomBateau}</td>
                        <td>${classement.architecte}</td>
                        <td>${classement.misealeau}</td>
                    `;
                    classementContent.appendChild(row);
                });
            })
            .catch(error => console.error('Error fetching data:', error));
    }
</script>

        
            
        
    </body>
</html>
